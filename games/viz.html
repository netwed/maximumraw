<!DOCTYPE html>
<html lang="en">
<head>
    <title>Visitor Tracking</title>
</head>
<body>
    <h1>Welcome to My Page!</h1>
    <p>Your visit is being logged. Thank you!</p>

    <script>
        async function logVisitor() {
            const response = await fetch('https://api.ipify.org?format=json'); // Fetch visitor IP
            const { ip } = await response.json();
            const visitorData = {
                ip: ip,
                browser: navigator.userAgent,
                timestamp: new Date().toISOString(),
            };

            // Send data to Google Sheet
            fetch('https://script.google.com/macros/s/AKfycbzJiNFa1xEvn1LsYzVi8AJoQvNtcN2xLGHHvLYz0jgkzcN5tTwuFfBd7PiuM_wQvrWtpg/exec', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify(visitorData),
})
    .then((response) => response.text())
    .then((text) => console.log("Response from Apps Script:", text))
    .catch((error) => console.error("Error sending data to Apps Script:", error));

            }

        logVisitor();
    </script>
</body>
</html>
